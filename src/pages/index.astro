---
import MainLayout from "../layouts/MainLayout.astro";
import Card from "../components/Card.astro";
import Shop from "../components/Shop.astro";
import TwoColSection from "../components/TwoColSection.astro";
---

<MainLayout title="Titel">
  <!-- prevent accidental horizontal overflow on small screens -->
  <div class="overflow-x-hidden">
    <!-- Hero -->
    <section class="relative grid min-h-screen w-full md:grid-cols-2">
      <!-- Left: Image -->
      <div class="relative h-screen w-full">
        <img
          src="/billeder/hero.png"
          alt="Hero image"
          class="h-full w-full object-cover"
        />

        <!-- Mobile-only overlay: center the headline on the left image for small viewports -->
        <div class="pointer-events-none absolute inset-0 flex items-center justify-center px-6 text-center md:hidden">
          <h1 class="h2 max-w-3xl text-[var(--color-black)]">
            An online platform that supports mental health through organic thinking
          </h1>
        </div>
      </div>

      <!-- Right: Video -->
      <div class="relative h-screen w-full bg-white md:border-l md:border-[var(--color-beige)]">
        <video id="heroVideo"
          src="/billeder/hero.mp4"
          class="h-full w-full object-cover"
          autoplay
          muted
          loop
          playsinline
        ></video>

        <!-- Pause/play overlay icon (visible when paused). Clicking the video toggles play/pause. -->
        <div id="heroOverlay" class="absolute inset-0 z-10 flex items-center justify-center pointer-events-none">
          <div id="heroPauseIcon" class="hidden pointer-events-none text-white">
            <!-- simple pause/play SVG (shows when paused) -->
            <svg xmlns="http://www.w3.org/2000/svg" class="w-16 h-16 bg-black/40 rounded-full p-3" viewBox="0 0 24 24" fill="none" stroke="currentColor">
              <path d="M6 5v14M18 5v14" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </div>
        </div>
      </div>

      <!-- Center headline for desktop and larger: keep centered between columns on md+ -->
      <div class="pointer-events-none absolute inset-0 hidden md:flex items-center justify-center px-6 text-center">
        <h1 class="h2 max-w-3xl text-[var(--color-black)] md:h1">
          An online platform that supports mental health through organic thinking
        </h1>
      </div>
    </section>


    <TwoColSection
      title="Organic Thinking"
      paragraphs={[
        `Organic thinking is an approach to mental health that mirrors the principles of organic growth in nature. Just as organic farming avoids artificial chemicals, organic thinking avoids rigid structures and promotes flexibility, growth, and sustainability.`,
        `Organic thinking offers a holistic, flexible approach to mental health that aligns with the principles of natural growth, balance, and interconnectedness of our thoughts, emotions, and actions.`,
        `By focusing on self-awareness, emotional regulation, adaptability, and sustainability, this approach encourages individuals to take charge of their mental well-being in a way that feels natural and sustainable.`,
      ]}
      image="/billeder/tree.png"
      imageAlt="Tree image"
      imagePosition="right"
      ctaText="Read more"
      ctaHref="/om-os"
    />

    <!-- Cards -->
    <section class="w-full">
      <div class="grid min-h-screen border-[0.5px] border-[var(--color-dark-grey)] md:grid-cols-2">
        <img
          src="/billeder/nutrition.png"
          alt="Nutrition image"
          class="order-1 h-[50vh] w-full object-cover md:h-full md:order-1"
        />

        <div class="order-2 flex items-center bg-white h-[50vh] md:h-auto">
          <div class="px-6 py-10 md:px-20 md:py-16 w-full">
            <Card
              title="Nutrition"
              body="Natural medicine focuses on using plant-based remedies and holistic approaches to promote healing and overall wellness..."
              cta="Read →"
              href="/nutrition"
            />
          </div>
        </div>

        <img
          src="/billeder/activity.png"
          alt="Activity image"
          class="order-3 h-[50vh] w-full object-cover md:h-full md:order-4"
        />

        <div class="order-4 flex items-center bg-white md:order-3 h-[50vh] md:h-auto">
          <div class="px-6 py-10 md:px-20 md:py-16 w-full">
            <Card
              title="Activity"
              body="Meditation is a practice that involves focusing the mind and eliminating distractions to achieve a state of mental clarity..."
              cta="Read →"
              href="/activity"
            />
          </div>
        </div>
      </div>
    </section>

    <!-- Shop -->
    <section class="w-full border-[0.5px] border-[var(--color-dark-grey)] bg-white py-20">
      <div class="mx-auto w-full max-w-5xl px-6">
        <h3 class="h3 mb-4 text-center">Our Holistic Shop</h3>
    <p class="body-text mb-8 text-center text-gray-600 underline">See more</p>

        <!-- Mobile carousel -->
        <div class="md:hidden">
          <div class="-mx-6 flex gap-6 overflow-x-auto px-6 snap-x snap-mandatory">
            <Shop image="/billeder/hibiscus.png" title="Hibiscus" price={10} currency="€" />
            <Shop image="/billeder/rose.png" title="Rose" price={10} currency="€" />
            <Shop image="/billeder/lavender.png" title="Lavender" price={10} currency="€" />
          </div>
        </div>

        <!-- Desktop grid -->
        <div class="hidden justify-items-center gap-8 md:grid md:grid-cols-3">
          <Shop image="/billeder/hibiscus.png" title="Hibiscus" price={10} currency="€" />
          <Shop image="/billeder/rose.png" title="Rose" price={10} currency="€" />
          <Shop image="/billeder/lavender.png" title="Lavender" price={10} currency="€" />
        </div>
      </div>
    </section>

    <TwoColSection
      title="Read & Share"
      paragraphs={[
        `Organic thinking is an approach to mental health that mirrors the principles of organic growth in nature. Just as organic farming avoids artificial chemicals, organic thinking avoids rigid structures and promotes flexibility, growth, and sustainability.`,
        `It involves nurturing the mind in a way that allows for emotional, cognitive, and psychological development in a healthy, natural progression.`,
        `By focusing on self-awareness, emotional regulation, adaptability, and sustainability, this approach encourages individuals to take charge of their mental well-being in a way that feels natural and sustainable. In a world that often promotes quick fixes, organic thinking reminds us of the importance of nurturing our mental health like we would nurture a garden—with patience, care, and a focus on long-term flourishing.`,
      ]}
      image="/billeder/girl.png"
      imageAlt="Read & share image"
      imagePosition="left"
        ctaText="Read"
        showImageMobile={true}
      ctaHref="/read"
    />

    <!-- Gallery: four images, half the height of the previous full-screen sections -->
    <section class="w-full border-[0.5px] border-[var(--color-dark-grey)] bg-white">
      <div class="mx-auto w-full px-0">
        <!-- Mobile carousel: horizontal snap scroll like Shop (no gap, intrinsic height) -->
        <div class="md:hidden -mx-6 flex overflow-x-auto px-6 snap-x snap-mandatory">
          <div class="snap-center flex-shrink-0 w-[320px]">
            <img src="/billeder/grandma.png" alt="Gallery image 1" class="w-full h-auto object-cover" />
          </div>
          <div class="snap-center flex-shrink-0 w-[320px]">
            <img src="/billeder/girlhood.png" alt="Gallery image 2" class="w-full h-auto object-cover" />
          </div>
          <div class="snap-center flex-shrink-0 w-[320px]">
            <img src="/billeder/swim.png" alt="Gallery image 3" class="w-full h-auto object-cover" />
          </div>
          <div class="snap-center flex-shrink-0 w-[320px]">
            <img src="/billeder/lovers.png" alt="Gallery image 4" class="w-full h-auto object-cover" />
          </div>
        </div>

        <!-- Desktop grid: 4 equal columns (no forced height, no gap) -->
        <div class="hidden md:grid grid-cols-4">
          <img src="/billeder/grandma.png" alt="Gallery image 1" class="w-full h-auto object-cover" />
          <img src="/billeder/girlhood.png" alt="Gallery image 2" class="w-full h-auto object-cover" />
          <img src="/billeder/swim.png" alt="Gallery image 3" class="w-full h-auto object-cover" />
          <img src="/billeder/lovers.png" alt="Gallery image 4" class="w-full h-auto object-cover" />
        </div>
      </div>
    </section>

      <!-- Small disclaimer bar: 200px height, centered small text, thin top & bottom borders -->
      <section class="w-full bg-white border-t-[0.5px] border-b-[0.5px] border-[var(--color-dark-grey)]">
        <div class="mx-auto w-full max-w-5xl h-[200px] flex items-center justify-center px-6">
          <p class="body-text text-center text-sm text-gray-600">
            *These statements is not intended to diagnose, treat, cure or prevent any disease. But simply, to guidance the mind.
          </p>
        </div>
      </section>

    <script type="module">
      // Toggle play/pause when user clicks/taps the hero video.
      const video = document.getElementById('heroVideo');
      const pauseIcon = document.getElementById('heroPauseIcon');

      function updateOverlay() {
        if (!video) return;
        if (video.paused) {
          pauseIcon?.classList.remove('hidden');
        } else {
          pauseIcon?.classList.add('hidden');
        }
      }

      if (video) {
        // Toggle on click/tap
        video.addEventListener('click', () => {
          if (video.paused) video.play(); else video.pause();
          updateOverlay();
        });

        // Update overlay on play/pause events
        video.addEventListener('play', updateOverlay);
        video.addEventListener('pause', updateOverlay);

        // initialize
        updateOverlay();
      }
    </script>
  </div>
</MainLayout>
