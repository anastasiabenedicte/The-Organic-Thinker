---
import Button from "../components/Button.astro";
const pathname = new URL(Astro.request.url).pathname;
const currentPath = pathname.slice(1);
---
<header x-data="{ open: false, showBanner: true }" class="bg-white border-b border-[var(--color-dark-grey)] border-[0.5px]">
  <!-- Announcement banner (above navbar) - black with close button -->
  <div x-show="showBanner" x-transition class="w-full bg-black text-white">
    <div class="container mx-auto px-4 py-2 relative">
  <p class="body-text text-sm text-center text-white">Join the Organic Thinker's community to start your healing journey</p>
      <button @click="showBanner = false" aria-label="Close announcement" class="absolute right-3 top-1/2 -translate-y-1/2 text-white text-xl leading-none">Ã—</button>
    </div>
  </div>
  <div id="navbar" class="flex justify-between items-center w-full h-[64px] px-4">
    <!-- Logo -->
    <div id="logo" class="flex items-center h-full">
      <a href="/" class="transition-transform duration-200 hover:scale-105 hover:opacity-80">
        <img src="/billeder/logo.png" alt="Logo" class="w-[56px] h-[56px]" />
      </a>
    </div>

    <!-- Desktop Menu -->
    <nav id="desktopmenu" class="hidden lg:flex flex-1 justify-center items-center h-full relative">
      <ul class="flex flex-row gap-[100px] items-center h-full">
        <li class="flex"><h2 class="body-text hover:underline cursor-pointer">Philosophy</h2></li>
        <li class="flex"><h2 class="body-text hover:underline cursor-pointer">Stories</h2></li>
        <li class="flex"><h2 class="body-text hover:underline cursor-pointer">Nutrition</h2></li>
        <li class="flex"><h2 class="body-text hover:underline cursor-pointer">Activity</h2></li>
        <li class="flex"><h2 class="body-text hover:underline cursor-pointer">Shop</h2></li>
        <li class="flex"><h2 class="body-text hover:underline cursor-pointer">Donations</h2></li>
      </ul>
    </nav>

    <!-- Subscribe Button -->
    <div class="hidden lg:flex items-center h-full">
      <Button text="Subscribe" href="/subscribe" />
    </div>

    <!-- Hamburger -->
    <button class="lg:hidden flex flex-col justify-between w-6 h-6" @click="open = !open">
      <span :class="{'rotate-45 translate-y-2': open}" class="block w-full h-[2px] bg-[var(--color-dark-grey)] transition-transform duration-200"></span>
      <span :class="{'opacity-0': open}" class="block w-full h-[2px] bg-[var(--color-dark-grey)] transition-opacity duration-200"></span>
      <span :class="{'-rotate-45 -translate-y-2': open}" class="block w-full h-[2px] bg-[var(--color-dark-grey)] transition-transform duration-200"></span>
    </button>
  </div>

<!-- Mobile Menu -->
<div 
  x-show="open" 
  x-transition
  class="lg:hidden bg-white w-full h-screen overflow-hidden border-b border-[var(--color-dark-grey)] border-[0.5px]"
>
  <ul class="flex flex-col w-full text-left p-8 space-y-[50px]">
    <li><h2 class="h2 hover:underline cursor-pointer">Philosophy</h2></li>
    <li><h2 class="h2 hover:underline cursor-pointer">Stories</h2></li>
    <li><h2 class="h2 hover:underline cursor-pointer">Nutrition</h2></li>
    <li><h2 class="h2 hover:underline cursor-pointer">Activity</h2></li>
    <li><h2 class="h2 hover:underline cursor-pointer">Shop</h2></li>
    <li><h2 class="h2 hover:underline cursor-pointer">Donations</h2></li>
  <li><a href="/subscribe" class="h2 underline cursor-pointer">Subscribe</a></li>
  </ul>
</div>

</header>
